(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{122:function(e,t){},272:function(e,t,n){"use strict";(function(e){var a=n(55),o=n(0),c=n.n(o),l=(n(288),n(760)),i=n(759),r=n(274),s=n(275);t.a=function(){var t,u=n(290)({host:"ipfs.infura.io",port:5001,protocol:"https"}),f=Object(o.useState)(!1),d=Object(a.a)(f,2),b=d[0],p=d[1],m=Object(o.useState)(!1),g=Object(a.a)(m,2),E=g[0],h=g[1],O=Object(o.useState)(null),j=Object(a.a)(O,2),w=j[0],S=j[1],v=Object(o.useState)(!1),F=Object(a.a)(v,2),y=F[0],k=F[1],I=Object(o.useState)("undefined"),N=Object(a.a)(I,2),P=N[0],U=N[1],A=Object(o.useState)(!1),C=Object(a.a)(A,2),B=C[0],D=C[1],R=function(){D(!1),console.log("resetting state..."),h(!1),k(!1),S(null)};return Object(o.useEffect)(function(){console.log("fileUploaded status: ",E)},[E]),Object(o.useEffect)(function(){console.log("File Buffer: ",w),E&&(D(!0),console.log("Adding the file to IPFS..."),u.add(w,function(e,t){e&&console.error("Error: ",e),console.log("IPFS result: ",t);var n=t[0].hash;U("https://ipfs.infura.io/ipfs/"+n),p(!0),k(!0)}))},[w]),Object(o.useEffect)(function(){console.log("uploadedToIPFS status: ",E)},[y]),Object(o.useEffect)(function(){console.log("ipfs URI: ",P)},[P]),c.a.createElement("div",{className:"App"},c.a.createElement("h1",{className:"header"},"IPFS File Uploader"),c.a.createElement("h3",{className:"content"},c.a.createElement("i",{class:"fa-solid fa-angle-right"}),c.a.createElement("i",{className:"content-link"},b?P:"Your url will be available here")),c.a.createElement("input",{type:"file",hidden:!0,ref:function(e){return t=e},onChange:function(t){t.preventDefault(),h(!0),console.log("onChange: File is captured"),console.log(t.target.files[0]);var n=t.target.files[0],a=new window.FileReader;a.readAsArrayBuffer(n),a.onloadend=function(){S(e(a.result))}}}),c.a.createElement("button",{className:"btn btn--primary btn--medium ",onClick:function(){return t.click()}},"UPLOAD"),c.a.createElement("div",{className:"github-icon"},c.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:"https://github.com/jacc-cyc/ipfs-uploader",className:"source-code"},c.a.createElement("i",{class:"fa-brands fa-github"}))),c.a.createElement(i.a,{open:B,onClose:R,"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description"},y?c.a.createElement(s.a,{id:"alert-dialog-title"},"Done! URL is available now."):c.a.createElement(s.a,{id:"alert-dialog-title"},"Uploading your file to IPFS..."),y?c.a.createElement(r.a,null,c.a.createElement(l.a,{onClick:R,color:"primary",autoFocus:!0},"Ok")):c.a.createElement(r.a,null)))}}).call(this,n(1).Buffer)},279:function(e,t,n){e.exports=n(280)},280:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),c=n(19),l=n.n(c),i=(n(285),n(272));l.a.render(o.a.createElement(i.a,null),document.getElementById("root"))},288:function(e,t,n){},409:function(e,t){},429:function(e,t){},443:function(e,t){},445:function(e,t){},455:function(e,t){},457:function(e,t){},516:function(e,t){},517:function(e,t){},533:function(e,t){},559:function(e,t){}},[[279,2,1]]]);
//# sourceMappingURL=main.5afd8cfe.chunk.js.map